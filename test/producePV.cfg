process PROD =
#process PVSearch = 
{

  # initialize  MessageLogger
  include "RecoTracker/RoadSearchCloudMaker/test/messages.cfg"

  # geometry
  include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"

  # tracker geometry
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  # tracker numbering
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
 
  source = PoolSource 
  { 
    untracked vstring fileNames = {"file:TrackCandidatesToTracks.root"}
#   untracked vstring fileNames = {"file:TracksTommaso.root"}
#    untracked vstring fileNames = {"file:bb_Et100_eta14.root"}
    untracked int32 maxEvents = -1
  }

  module asciiOutput = AsciiOutputModule {}
  
#  module trackAnalyzer =  TrackAnalyzer {}

  module primaryVertexProducer =  PrimaryVertexProducer 
  {
	PSet PVSelParameters = 
	{
		double MaxDistanceToBeam = 0.0200 // 200 microns
	}
  }

  module out = PoolOutputModule 
  { 
	untracked string fileName = "pv.root"
  }

  path p = 
  {
#    trackAnalyzer, primaryVertexProducer
    primaryVertexProducer
  }
  
  endpath e = 
  {
    asciiOutput, out
  }
}
